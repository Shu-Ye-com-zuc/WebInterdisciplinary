<!DOCTYPE html>
<html>
    <head>
        <title>FallingFlower</title>
        <meta charset="utf-8"/>
		
		<link rel="stylesheet" href="css/main.css" type="text/css"/>
        <style type="text/css">
            .PageOneCoin{
                width: 1000px;
                height: 800px;
                position: relative;
                transform: translate(0,0px);
            }
            .flowerCoin{
                position: absolute;
                width: 50px;
                aspect-ratio: 1;
                animation :flowerRotate 3s linear infinite forwards;
            }

            @keyframes flowerRotate {
                0% { opacity: 0.8; transform:scale(0.9); }
                50% { opacity: 1; transform: scale(1) rotateZ(180deg); }
                100% { opacity: 0.8; transform:  scale(0.9) rotateZ(360deg); }
            }
        </style>
        <script type="text/javascript">
            function init(){
            var winWid = document.documentElement.clientWidth;
            var obj = document.getElementsByClassName("flowerCoin");
            var top1 = []; 
            var arr = [];//速度存储            
            setTop();
            moveImage();
            
            function setTop(){
            
            for(var i=0;i<obj.length;i++){
                top1[i]=-30;
                var flowerLeft = Math.random()*winWid;
                obj[i].style.top= "-30px";
                obj[i].style.left= flowerLeft+"px";
                var a=Math.random()*(45-15) + 15;
                obj[i].style.fontSize= a+"px";
                arr.push(Math.random()*(5-2)+2);
            }
            }
            
            function moveImage(){
                
                for(var h=0;h<obj.length;h++){
                    obj[h].style.top=top1[h] + "px";
                    top1[h] += arr[h];
                    
                }
                
                for(var j=0;j<obj.length;j++){
                    if(top1[j] >=900){
                        var flowerLeft1= Math.random()*winWid;
                        top1[j]=-30;
                        obj[j].style.top="-30px";
                        obj[j].style.left=flowerLeft1 + "px";
                    }
                }        
                //帧频：每秒60帧，每隔16.66毫秒执行一次
                raf = window.requestAnimationFrame(moveImage);
            }
            }
        </script>
    </head>
    <body onload="init()">
        <!-- <img class ="PageOneCoin" src="img/PageOneIcon.png" alt="牡丹亭" /> -->
        <img class = "flowerCoin" src="img/flower.png" alt="花朵" >
        <img class = "flowerCoin" src="img/flower.png" alt="花朵" >
        <img class = "flowerCoin" src="img/flower.png" alt="花朵" >
        <img class = "flowerCoin" src="img/flower.png" alt="花朵" >
        <img class = "flowerCoin" src="img/flower.png" alt="花朵" >
        <img class = "flowerCoin" src="img/flower.png" alt="花朵" >
 
    </body>
</html>